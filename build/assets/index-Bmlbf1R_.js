import{r as i,j as p,b as F,c as V}from"./index-BC_MNVAr.js";import{c as h}from"./index-DW48STyt.js";import{c as L,u as x}from"./index-CAQBD4x7.js";import{u as P}from"./index-bdgNV4Gt.js";import{u as k}from"./index-BRXnUx42.js";function H(t){const e=M(t),s=i.forwardRef((r,n)=>{const{children:o,...l}=r,a=i.Children.toArray(o),u=a.find(z);if(u){const c=u.props.children,f=a.map(E=>E===u?i.Children.count(c)>1?i.Children.only(null):i.isValidElement(c)?c.props.children:null:E);return p.jsx(e,{...l,ref:n,children:i.isValidElement(c)?i.cloneElement(c,void 0,f):null})}return p.jsx(e,{...l,ref:n,children:o})});return s.displayName=`${t}.Slot`,s}function M(t){const e=i.forwardRef((s,r)=>{const{children:n,...o}=s;if(i.isValidElement(n)){const l=Z(n),a=K(o,n.props);return n.type!==i.Fragment&&(a.ref=r?L(r,l):l),i.cloneElement(n,a)}return i.Children.count(n)>1?i.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var U=Symbol("radix.slottable");function z(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===U}function K(t,e){const s={...e};for(const r in e){const n=t[r],o=e[r];/^on[A-Z]/.test(r)?n&&o?s[r]=(...a)=>{const u=o(...a);return n(...a),u}:n&&(s[r]=n):r==="style"?s[r]={...n,...o}:r==="className"&&(s[r]=[n,o].filter(Boolean).join(" "))}return{...t,...s}}function Z(t){var r,n;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var X=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],N=X.reduce((t,e)=>{const s=H(`Primitive.${e}`),r=i.forwardRef((n,o)=>{const{asChild:l,...a}=n,u=l?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Y(t,e){t&&F.flushSync(()=>t.dispatchEvent(e))}function q(t,e=globalThis==null?void 0:globalThis.document){const s=P(t);i.useEffect(()=>{const r=n=>{n.key==="Escape"&&s(n)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[s,e])}var G="DismissableLayer",b="dismissableLayer.update",J="dismissableLayer.pointerDownOutside",Q="dismissableLayer.focusOutside",O,T=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ee=i.forwardRef((t,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:l,onDismiss:a,...u}=t,c=i.useContext(T),[f,E]=i.useState(null),y=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=i.useState({}),I=x(e,d=>E(d)),C=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),j=C.indexOf(_),g=f?C.indexOf(f):-1,B=c.layersWithOutsidePointerEventsDisabled.size>0,R=g>=j,$=re(d=>{const v=d.target,D=[...c.branches].some(m=>m.contains(v));!R||D||(n==null||n(d),l==null||l(d),d.defaultPrevented||a==null||a())},y),S=se(d=>{const v=d.target;[...c.branches].some(m=>m.contains(v))||(o==null||o(d),l==null||l(d),d.defaultPrevented||a==null||a())},y);return q(d=>{g===c.layers.size-1&&(r==null||r(d),!d.defaultPrevented&&a&&(d.preventDefault(),a()))},y),i.useEffect(()=>{if(f)return s&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(O=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),w(),()=>{s&&c.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=O)}},[f,y,s,c]),i.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),w())},[f,c]),i.useEffect(()=>{const d=()=>A({});return document.addEventListener(b,d),()=>document.removeEventListener(b,d)},[]),p.jsx(N.div,{...u,ref:I,style:{pointerEvents:B?R?"auto":"none":void 0,...t.style},onFocusCapture:h(t.onFocusCapture,S.onFocusCapture),onBlurCapture:h(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:h(t.onPointerDownCapture,$.onPointerDownCapture)})});ee.displayName=G;var te="DismissableLayerBranch",ne=i.forwardRef((t,e)=>{const s=i.useContext(T),r=i.useRef(null),n=x(e,r);return i.useEffect(()=>{const o=r.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),p.jsx(N.div,{...t,ref:n})});ne.displayName=te;function re(t,e=globalThis==null?void 0:globalThis.document){const s=P(t),r=i.useRef(!1),n=i.useRef(()=>{});return i.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){W(J,s,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",n.current),n.current=u,e.addEventListener("click",n.current,{once:!0})):u()}else e.removeEventListener("click",n.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",n.current)}},[e,s]),{onPointerDownCapture:()=>r.current=!0}}function se(t,e=globalThis==null?void 0:globalThis.document){const s=P(t),r=i.useRef(!1);return i.useEffect(()=>{const n=o=>{o.target&&!r.current&&W(Q,s,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",n),()=>e.removeEventListener("focusin",n)},[e,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function w(){const t=new CustomEvent(b);document.dispatchEvent(t)}function W(t,e,s,{discrete:r}){const n=s.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&n.addEventListener(t,e,{once:!0}),r?Y(n,o):n.dispatchEvent(o)}function ie(t){const e=oe(t),s=i.forwardRef((r,n)=>{const{children:o,...l}=r,a=i.Children.toArray(o),u=a.find(le);if(u){const c=u.props.children,f=a.map(E=>E===u?i.Children.count(c)>1?i.Children.only(null):i.isValidElement(c)?c.props.children:null:E);return p.jsx(e,{...l,ref:n,children:i.isValidElement(c)?i.cloneElement(c,void 0,f):null})}return p.jsx(e,{...l,ref:n,children:o})});return s.displayName=`${t}.Slot`,s}function oe(t){const e=i.forwardRef((s,r)=>{const{children:n,...o}=s;if(i.isValidElement(n)){const l=ue(n),a=ce(o,n.props);return n.type!==i.Fragment&&(a.ref=r?L(r,l):l),i.cloneElement(n,a)}return i.Children.count(n)>1?i.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ae=Symbol("radix.slottable");function le(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ae}function ce(t,e){const s={...e};for(const r in e){const n=t[r],o=e[r];/^on[A-Z]/.test(r)?n&&o?s[r]=(...a)=>{const u=o(...a);return n(...a),u}:n&&(s[r]=n):r==="style"?s[r]={...n,...o}:r==="className"&&(s[r]=[n,o].filter(Boolean).join(" "))}return{...t,...s}}function ue(t){var r,n;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var de=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=de.reduce((t,e)=>{const s=ie(`Primitive.${e}`),r=i.forwardRef((n,o)=>{const{asChild:l,...a}=n,u=l?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(u,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),pe="Portal",Ee=i.forwardRef((t,e)=>{var a;const{container:s,...r}=t,[n,o]=i.useState(!1);k(()=>o(!0),[]);const l=s||n&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return l?V.createPortal(p.jsx(fe.div,{...r,ref:e}),l):null});Ee.displayName=pe;export{ee as D,Ee as P};
