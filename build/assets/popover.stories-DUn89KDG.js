import{r as l,j as c}from"./index-BC_MNVAr.js";import{c as P}from"./index-DW48STyt.js";import{c as z,u as A}from"./index-CAQBD4x7.js";import{P as G,D as K}from"./index-Bmlbf1R_.js";import{h as Z,R as U,u as q,F as J}from"./index-D6VOcKft.js";import{u as Q}from"./index-CM3LSSrm.js";import{R as X,A as E,c as S,C as Y,a as ee}from"./index-C0qQ_dMe.js";import{P as N}from"./index-I57tb7nT.js";import{u as oe}from"./index-CRD5TpTH.js";import{c as te}from"./utils-D_sggm65.js";import{B as re}from"./button-B81nvSVB.js";import{I as _}from"./input-CuWGNeoG.js";import{L as O}from"./label-3ZZuMqgP.js";import"./index-bdgNV4Gt.js";import"./index-BRXnUx42.js";import"./index-B8ujR7CG.js";import"./index-DIsF9GXC.js";import"./index-Cr2YiMyZ.js";import"./index-DTm_drOP.js";function ne(e,t=[]){let r=[];function n(s,a){const i=l.createContext(a),u=r.length;r=[...r,a];const p=f=>{var y;const{scope:d,children:h,...x}=f,R=((y=d==null?void 0:d[e])==null?void 0:y[u])||i,B=l.useMemo(()=>x,Object.values(x));return c.jsx(R.Provider,{value:B,children:h})};p.displayName=s+"Provider";function m(f,d){var R;const h=((R=d==null?void 0:d[e])==null?void 0:R[u])||i,x=l.useContext(h);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[p,m]}const o=()=>{const s=r.map(a=>l.createContext(a));return function(i){const u=(i==null?void 0:i[e])||s;return l.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return o.scopeName=e,[n,se(o,...t)]}function se(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=n.reduce((i,{useScope:u,scopeName:p})=>{const f=u(s)[`__scope${p}`];return{...i,...f}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function b(e){const t=ae(e),r=l.forwardRef((n,o)=>{const{children:s,...a}=n,i=l.Children.toArray(s),u=i.find(ce);if(u){const p=u.props.children,m=i.map(f=>f===u?l.Children.count(p)>1?l.Children.only(null):l.isValidElement(p)?p.props.children:null:f);return c.jsx(t,{...a,ref:o,children:l.isValidElement(p)?l.cloneElement(p,void 0,m):null})}return c.jsx(t,{...a,ref:o,children:s})});return r.displayName=`${e}.Slot`,r}function ae(e){const t=l.forwardRef((r,n)=>{const{children:o,...s}=r;if(l.isValidElement(o)){const a=ue(o),i=le(s,o.props);return o.type!==l.Fragment&&(i.ref=n?z(n,a):a),l.cloneElement(o,i)}return l.Children.count(o)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ie=Symbol("radix.slottable");function ce(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ie}function le(e,t){const r={...t};for(const n in t){const o=e[n],s=t[n];/^on[A-Z]/.test(n)?o&&s?r[n]=(...i)=>{const u=s(...i);return o(...i),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...s}:n==="className"&&(r[n]=[o,s].filter(Boolean).join(" "))}return{...e,...r}}function ue(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F=pe.reduce((e,t)=>{const r=b(`Primitive.${t}`),n=l.forwardRef((o,s)=>{const{asChild:a,...i}=o,u=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),j="Popover",[D]=ne(j,[S]),C=S(),[de,v]=D(j),I=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:s,modal:a=!1}=e,i=C(t),u=l.useRef(null),[p,m]=l.useState(!1),[f,d]=oe({prop:n,defaultProp:o??!1,onChange:s,caller:j});return c.jsx(X,{...i,children:c.jsx(de,{scope:t,contentId:Q(),triggerRef:u,open:f,onOpenChange:d,onOpenToggle:l.useCallback(()=>d(h=>!h),[d]),hasCustomAnchor:p,onCustomAnchorAdd:l.useCallback(()=>m(!0),[]),onCustomAnchorRemove:l.useCallback(()=>m(!1),[]),modal:a,children:r})})};I.displayName=j;var M="PopoverAnchor",fe=l.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=v(M,r),s=C(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:i}=o;return l.useEffect(()=>(a(),()=>i()),[a,i]),c.jsx(E,{...s,...n,ref:t})});fe.displayName=M;var T="PopoverTrigger",$=l.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=v(T,r),s=C(r),a=A(t,o.triggerRef),i=c.jsx(F.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":W(o.open),...n,ref:a,onClick:P(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:c.jsx(E,{asChild:!0,...s,children:i})});$.displayName=T;var w="PopoverPortal",[me,ve]=D(w,{forceMount:void 0}),k=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,s=v(w,t);return c.jsx(me,{scope:t,forceMount:r,children:c.jsx(N,{present:r||s.open,children:c.jsx(G,{asChild:!0,container:o,children:n})})})};k.displayName=w;var g="PopoverContent",V=l.forwardRef((e,t)=>{const r=ve(g,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,s=v(g,e.__scopePopover);return c.jsx(N,{present:n||s.open,children:s.modal?c.jsx(ge,{...o,ref:t}):c.jsx(xe,{...o,ref:t})})});V.displayName=g;var he=b("PopoverContent.RemoveScroll"),ge=l.forwardRef((e,t)=>{const r=v(g,e.__scopePopover),n=l.useRef(null),o=A(t,n),s=l.useRef(!1);return l.useEffect(()=>{const a=n.current;if(a)return Z(a)},[]),c.jsx(U,{as:he,allowPinchZoom:!0,children:c.jsx(L,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),s.current||(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:P(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0,p=i.button===2||u;s.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:P(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),xe=l.forwardRef((e,t)=>{const r=v(g,e.__scopePopover),n=l.useRef(!1),o=l.useRef(!1);return c.jsx(L,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,i;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(n.current||(i=r.triggerRef.current)==null||i.focus(),s.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:s=>{var u,p;(u=e.onInteractOutside)==null||u.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=s.target;((p=r.triggerRef.current)==null?void 0:p.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),L=l.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:p,onInteractOutside:m,...f}=e,d=v(g,r),h=C(r);return q(),c.jsx(J,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:c.jsx(K,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:m,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:p,onDismiss:()=>d.onOpenChange(!1),children:c.jsx(Y,{"data-state":W(d.open),role:"dialog",id:d.contentId,...h,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),H="PopoverClose",Pe=l.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=v(H,r);return c.jsx(F.button,{type:"button",...n,ref:t,onClick:P(e.onClick,()=>o.onOpenChange(!1))})});Pe.displayName=H;var Ce="PopoverArrow",Re=l.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=C(r);return c.jsx(ee,{...o,...n,ref:t})});Re.displayName=Ce;function W(e){return e?"open":"closed"}var je=I,we=$,ye=k,_e=V;function Oe({...e}){return c.jsx(je,{"data-slot":"popover",...e})}function Ae({...e}){return c.jsx(we,{"data-slot":"popover-trigger",...e})}function Ee({className:e,align:t="center",sideOffset:r=4,...n}){return c.jsx(ye,{children:c.jsx(_e,{"data-slot":"popover-content",align:t,sideOffset:r,className:te("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}const Ue={title:"Components/Popover"},qe=()=>c.jsxs(Oe,{children:[c.jsx(Ae,{asChild:!0,children:c.jsx(re,{variant:"outline",children:"Open Popover"})}),c.jsx(Ee,{className:"w-80",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium text-sm",children:"Dimensions"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Set the dimensions for the layer."})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[c.jsx(O,{htmlFor:"width",children:"Width"}),c.jsx(_,{id:"width",defaultValue:"100%",className:"col-span-2"})]}),c.jsxs("div",{className:"grid grid-cols-3 items-center gap-4",children:[c.jsx(O,{htmlFor:"height",children:"Height"}),c.jsx(_,{id:"height",defaultValue:"25px",className:"col-span-2"})]})]})]})})]});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{qe as Default,Ue as default};
