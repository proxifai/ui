import{r as n,j as I}from"./index-BC_MNVAr.js";import{c as F}from"./index-DW48STyt.js";import{c as V}from"./index-Bv9jk42-.js";import{c as H,u as W}from"./index-CAQBD4x7.js";import{u as Y}from"./index-CM3LSSrm.js";import{u as z}from"./index-bdgNV4Gt.js";import{u as Z}from"./index-CRD5TpTH.js";import{u as q}from"./index-BwvkgH8O.js";function J(e,t=[]){let r=[];function o(u,c){const i=n.createContext(c),a=r.length;r=[...r,c];const f=p=>{var b;const{scope:v,children:x,...S}=p,C=((b=v==null?void 0:v[e])==null?void 0:b[a])||i,l=n.useMemo(()=>S,Object.values(S));return I.jsx(C.Provider,{value:l,children:x})};f.displayName=u+"Provider";function d(p,v){var C;const x=((C=v==null?void 0:v[e])==null?void 0:C[a])||i,S=n.useContext(x);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${u}\``)}return[f,d]}const s=()=>{const u=r.map(c=>n.createContext(c));return function(i){const a=(i==null?void 0:i[e])||u;return n.useMemo(()=>({[`__scope${e}`]:{...i,[e]:a}}),[i,a])}};return s.scopeName=e,[o,Q(s,...t)]}function Q(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(u){const c=o.reduce((i,{useScope:a,scopeName:f})=>{const p=a(u)[`__scope${f}`];return{...i,...p}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function X(e){const t=ee(e),r=n.forwardRef((o,s)=>{const{children:u,...c}=o,i=n.Children.toArray(u),a=i.find(oe);if(a){const f=a.props.children,d=i.map(p=>p===a?n.Children.count(f)>1?n.Children.only(null):n.isValidElement(f)?f.props.children:null:p);return I.jsx(t,{...c,ref:s,children:n.isValidElement(f)?n.cloneElement(f,void 0,d):null})}return I.jsx(t,{...c,ref:s,children:u})});return r.displayName=`${e}.Slot`,r}function ee(e){const t=n.forwardRef((r,o)=>{const{children:s,...u}=r;if(n.isValidElement(s)){const c=ne(s),i=re(u,s.props);return s.type!==n.Fragment&&(i.ref=o?H(o,c):c),n.cloneElement(s,i)}return n.Children.count(s)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var te=Symbol("radix.slottable");function oe(e){return n.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===te}function re(e,t){const r={...t};for(const o in t){const s=e[o],u=t[o];/^on[A-Z]/.test(o)?s&&u?r[o]=(...i)=>{const a=u(...i);return s(...i),a}:s&&(r[o]=s):o==="style"?r[o]={...s,...u}:o==="className"&&(r[o]=[s,u].filter(Boolean).join(" "))}return{...e,...r}}function ne(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var se=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O=se.reduce((e,t)=>{const r=X(`Primitive.${t}`),o=n.forwardRef((s,u)=>{const{asChild:c,...i}=s,a=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(a,{...i,ref:u})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),_="rovingFocusGroup.onEntryFocus",ce={bubbles:!1,cancelable:!0},w="RovingFocusGroup",[P,D,ie]=V(w),[ue,we]=J(w,[ie]),[ae,le]=ue(w),j=n.forwardRef((e,t)=>I.jsx(P.Provider,{scope:e.__scopeRovingFocusGroup,children:I.jsx(P.Slot,{scope:e.__scopeRovingFocusGroup,children:I.jsx(fe,{...e,ref:t})})}));j.displayName=w;var fe=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:s=!1,dir:u,currentTabStopId:c,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:a,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...p}=e,v=n.useRef(null),x=W(t,v),S=q(u),[C,l]=Z({prop:c,defaultProp:i??null,onChange:a,caller:w}),[b,y]=n.useState(!1),g=z(f),E=D(r),h=n.useRef(!1),[L,A]=n.useState(0);return n.useEffect(()=>{const m=v.current;if(m)return m.addEventListener(_,g),()=>m.removeEventListener(_,g)},[g]),I.jsx(ae,{scope:r,orientation:o,dir:S,loop:s,currentTabStopId:C,onItemFocus:n.useCallback(m=>l(m),[l]),onItemShiftTab:n.useCallback(()=>y(!0),[]),onFocusableItemAdd:n.useCallback(()=>A(m=>m+1),[]),onFocusableItemRemove:n.useCallback(()=>A(m=>m-1),[]),children:I.jsx(O.div,{tabIndex:b||L===0?-1:0,"data-orientation":o,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:F(e.onMouseDown,()=>{h.current=!0}),onFocus:F(e.onFocus,m=>{const k=!h.current;if(m.target===m.currentTarget&&k&&!b){const N=new CustomEvent(_,ce);if(m.currentTarget.dispatchEvent(N),!N.defaultPrevented){const T=E().filter(R=>R.focusable),$=T.find(R=>R.active),B=T.find(R=>R.id===C),U=[$,B,...T].filter(Boolean).map(R=>R.ref.current);K(U,d)}}h.current=!1}),onBlur:F(e.onBlur,()=>y(!1))})})}),G="RovingFocusGroupItem",M=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:s=!1,tabStopId:u,children:c,...i}=e,a=Y(),f=u||a,d=le(G,r),p=d.currentTabStopId===f,v=D(r),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:C}=d;return n.useEffect(()=>{if(o)return x(),()=>S()},[o,x,S]),I.jsx(P.ItemSlot,{scope:r,id:f,focusable:o,active:s,children:I.jsx(O.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:F(e.onMouseDown,l=>{o?d.onItemFocus(f):l.preventDefault()}),onFocus:F(e.onFocus,()=>d.onItemFocus(f)),onKeyDown:F(e.onKeyDown,l=>{if(l.key==="Tab"&&l.shiftKey){d.onItemShiftTab();return}if(l.target!==l.currentTarget)return;const b=me(l,d.orientation,d.dir);if(b!==void 0){if(l.metaKey||l.ctrlKey||l.altKey||l.shiftKey)return;l.preventDefault();let g=v().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")g.reverse();else if(b==="prev"||b==="next"){b==="prev"&&g.reverse();const E=g.indexOf(l.currentTarget);g=d.loop?ve(g,E+1):g.slice(E+1)}setTimeout(()=>K(g))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:C!=null}):c})})});M.displayName=G;var de={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function me(e,t,r){const o=pe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return de[o]}function K(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function ve(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var ye=j,he=M;export{he as I,ye as R,we as c};
