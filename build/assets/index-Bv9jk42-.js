import{r as i,j as h,R as I}from"./index-BC_MNVAr.js";import{c as A,u as v}from"./index-CAQBD4x7.js";function O(e,o=[]){let n=[];function r(s,l){const c=i.createContext(l),u=n.length;n=[...n,l];const a=d=>{var C;const{scope:m,children:_,...y}=d,f=((C=m==null?void 0:m[e])==null?void 0:C[u])||c,p=i.useMemo(()=>y,Object.values(y));return h.jsx(f.Provider,{value:p,children:_})};a.displayName=s+"Provider";function x(d,m){var f;const _=((f=m==null?void 0:m[e])==null?void 0:f[u])||c,y=i.useContext(_);if(y)return y;if(l!==void 0)return l;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[a,x]}const t=()=>{const s=n.map(l=>i.createContext(l));return function(c){const u=(c==null?void 0:c[e])||s;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return t.scopeName=e,[r,j(t,...o)]}function j(...e){const o=e[0];if(e.length===1)return o;const n=()=>{const r=e.map(t=>({useScope:t(),scopeName:t.scopeName}));return function(s){const l=r.reduce((c,{useScope:u,scopeName:a})=>{const d=u(s)[`__scope${a}`];return{...c,...d}},{});return i.useMemo(()=>({[`__scope${o.scopeName}`]:l}),[l])}};return n.scopeName=o.scopeName,n}function P(e){const o=T(e),n=i.forwardRef((r,t)=>{const{children:s,...l}=r,c=i.Children.toArray(s),u=c.find(w);if(u){const a=u.props.children,x=c.map(d=>d===u?i.Children.count(a)>1?i.Children.only(null):i.isValidElement(a)?a.props.children:null:d);return h.jsx(o,{...l,ref:t,children:i.isValidElement(a)?i.cloneElement(a,void 0,x):null})}return h.jsx(o,{...l,ref:t,children:s})});return n.displayName=`${e}.Slot`,n}function T(e){const o=i.forwardRef((n,r)=>{const{children:t,...s}=n;if(i.isValidElement(t)){const l=V(t),c=$(s,t.props);return t.type!==i.Fragment&&(c.ref=r?A(r,l):l),i.cloneElement(t,c)}return i.Children.count(t)>1?i.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var b=Symbol("radix.slottable");function w(e){return i.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===b}function $(e,o){const n={...o};for(const r in o){const t=e[r],s=o[r];/^on[A-Z]/.test(r)?t&&s?n[r]=(...c)=>{const u=s(...c);return t(...c),u}:t&&(n[r]=t):r==="style"?n[r]={...t,...s}:r==="className"&&(n[r]=[t,s].filter(Boolean).join(" "))}return{...e,...n}}function V(e){var r,t;let o=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=o&&"isReactWarning"in o&&o.isReactWarning;return n?e.ref:(o=(t=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:t.get,n=o&&"isReactWarning"in o&&o.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function W(e){const o=e+"CollectionProvider",[n,r]=O(o),[t,s]=n(o,{collectionRef:{current:null},itemMap:new Map}),l=f=>{const{scope:p,children:C}=f,S=I.useRef(null),R=I.useRef(new Map).current;return h.jsx(t,{scope:p,itemMap:R,collectionRef:S,children:C})};l.displayName=o;const c=e+"CollectionSlot",u=P(c),a=I.forwardRef((f,p)=>{const{scope:C,children:S}=f,R=s(c,C),E=v(p,R.collectionRef);return h.jsx(u,{ref:E,children:S})});a.displayName=c;const x=e+"CollectionItemSlot",d="data-radix-collection-item",m=P(x),_=I.forwardRef((f,p)=>{const{scope:C,children:S,...R}=f,E=I.useRef(null),g=v(p,E),M=s(x,C);return I.useEffect(()=>(M.itemMap.set(E,{ref:E,...R}),()=>void M.itemMap.delete(E))),h.jsx(m,{[d]:"",ref:g,children:S})});_.displayName=x;function y(f){const p=s(e+"CollectionConsumer",f);return I.useCallback(()=>{const S=p.collectionRef.current;if(!S)return[];const R=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(p.itemMap.values()).sort((M,N)=>R.indexOf(M.ref.current)-R.indexOf(N.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:l,Slot:a,ItemSlot:_},y,r]}export{W as c};
